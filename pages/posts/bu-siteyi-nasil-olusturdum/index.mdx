---
title: Bu Siteyi NasÄ±l OluÅŸturdum (eski)
date: 2022-03-16
description: Bu yazÄ±da bu web sitesini Svelte ve SvelteKit ile nasÄ±l oluÅŸturduÄŸumu anlayacaÄŸÄ±m.
tag:
  - svelte
  - svetlekit
  - ssg
---

import { Callout } from 'nextra/components'

<Callout emoji="ğŸ‘¾">
  Bu yazi suan goruntulediginiz web sitesinin eski versiyonu icin yazilmistir. SÄ±kÄ±ldÄ±ÄŸÄ±m iÃ§in Next.js tabanli [Nextra](https://nextra.site/) ile tekrar olusturdum ğŸ¤·â€â™‚ï¸
</Callout>

Uzun zamandÄ±r aklÄ±mda kolayca iÃ§erik Ã¼retebileceÄŸim, hÄ±zlÄ±,
sade bir blog yapmak vardÄ±. Pek Ã§ok farklÄ± ÅŸekilde iyi-kÃ¶tÃ¼(Ã§oÄŸunlukla kÃ¶tÃ¼)
kendim iÃ§in blog sayfalarÄ± oluÅŸturmuÅŸtum. Backendini kendim yazdÄ±ÄŸÄ±m da oldu,
sadece frontendini yazÄ±p backendini [Strapi](https://strapi.io/)'ye verdiÄŸim de. Ama hep
bir ÅŸeyler istediÄŸim gibi olmuyordu. Bir tÃ¼rlÃ¼ ihtiyaÃ§larÄ±mÄ± tam anlamÄ±yla
karÅŸÄ±layacak bir web sitesi yapamamÄ±ÅŸtÄ±m kendime. Ama son 1 haftadÄ±r
Svelte ve SvelteKit ile istediÄŸim siteyi oluÅŸturduÄŸumu dÃ¼ÅŸÃ¼nÃ¼yorum.
Bu yazÄ±da bu web sitesini _Svelte_ ve _SvelteKit_ ile nasÄ±l oluÅŸturduÄŸumu
anlatacaÄŸÄ±m

## Ä°htiyaÃ§larÄ±m

Websitesini yapmaya giriÅŸmeden Ã¶nce ihtiyaÃ§larÄ±mÄ± belirlemeye karar verdim.
Bunlar:

- OlabildiÄŸince sade bir tasarÄ±m.

Websitemin daha Ã§ok iÃ§eriÄŸe odaklÄ± olmasÄ±
gerektiÄŸini dÃ¼ÅŸÃ¼ndÃ¼ÄŸÃ¼m iÃ§in, iÃ§eriÄŸi Ã¶n plana alacak ÅŸeklide bir
tasarÄ±m dÃ¼ÅŸÃ¼ndÃ¼m. [Bu](https://antfu.me/),
[bu](https://www.aleksandrhovhannisyan.com/) ve
[bu](https://ademilter.com/) sitelerden ilham aldÄ±ÄŸÄ±m sÃ¶ylenebilir.

- HÄ±z.

YaptÄ±ÄŸÄ±m ÅŸey altÄ± Ã¼stÃ¼ blog post paylaÅŸmak. Bu dÃ¶nemde bÃ¶yle bir iÅŸ
Ã§ok fazla kaynak tÃ¼ketmese gerek. DolayÄ±sÄ±yla sitenin ve sayfalarÄ±n aÃ§Ä±lÄ±ÅŸ
hÄ±zÄ± olabilidiÄŸince hÄ±zlÄ± olmalÄ±.

- HÄ±zlÄ±ca iÃ§erik Ã¼retebilme.

Ã–nceki denediÄŸim sistemlerde, bir ÅŸeyler paylaÅŸmak
hiÃ§ kolay deÄŸildi. Kolaycadan kastÄ±m ÅŸu: AklÄ±ma gelen veya paylaÅŸmak
istediÄŸim bir ÅŸeyi telefonda olsam bile yazÄ±p tek tuÅŸla yayÄ±na almak.

- Bol Ã¶zellikli makale yazma formatÄ±.

Bir yazÄ±lÄ±m geliÅŸtirici olduÄŸum iÃ§in aÅŸÄ±na olduÄŸum metin yazma formatÄ±
`markdown`. Ama sadece bu da yetmiyor, yeri geliyor makalede interaktif
bir ÅŸeyler yapabilmek istiyorum. AyÄ±rca kod formatlama, syntax highlighting
de geliÅŸmiÅŸ olmalÄ±.

## Neler kullandÄ±m

- [Svelte](https://svelte.dev/) - _KullandÄ±ÄŸÄ±m frontend framework_
- [SvelteKit](https://kit.svelte.dev/) - _Svelte ile birlikte Ã§alÄ±ÅŸan, server-side-rendering (SSR),
  static-site-generator (SSG) iÃ§in framework_
- [Tailwind](https://tailwindcss.com/) - _CSS framework_
- [MDsveX](https://mdsvex.pngwn.io/) - _Markdown ve SvelteKit ile birlikte Ã§alÄ±ÅŸan, markdown dosyalarÄ±nÄ±
  process eden kÃ¼tÃ¼phane_
- [Notion.so](https://www.notion.so) - _[snippets](/snippets) bÃ¶lÃ¼mÃ¼ iÃ§in kullandÄ±ÄŸÄ±m platform_
- [Upstash](https://upstash.com/) - SayfalarÄ±n ne kadar gÃ¶rÃ¼ntÃ¼lenme aldÄ±ÄŸÄ±nÄ± tutmak iÃ§in `key-value`
  database
- [Raindrop.io](https://raindrop.io/) - _[bookmarks](/bookmarks) bÃ¶lÃ¼mÃ¼ iÃ§in kullandÄ±ÄŸÄ±m platform_

## SvelteKit ve SSG(Static Site Generator) nasÄ±l Ã§alÄ±ÅŸÄ±yor?

Bir SvelteKit uygulamasÄ± oluÅŸturduÄŸunuzda, `/routes` adlÄ± bir dizinle
gelir. Bu dizin iÃ§indeki dosyalara gÃ¶re web sitenizin yollarÄ± belirlenir.

![Svelte Routing](./svelte_routing.png)

Bu sayfalar ayrÄ±ca static olarak `.html` dosyalarÄ±na dÃ¶nÃ¼ÅŸtÃ¼rÃ¼lebilir. EÄŸer
`svete.config.js` dosyasÄ±nda `kit.prerender.default = true` yaparsanÄ±z,
varsayÄ±lan olarak `/routes` iÃ§indeki dosyalarÄ± statik olarak Ã§alÄ±ÅŸmasÄ±nÄ±
saÄŸlarsÄ±nÄ±z. `build` komutunu Ã§alÄ±ÅŸtÄ±rmanÄ±z yeterli olur.

![Svelte Static Adapter](./svelte_proc.png)

Eger backend'e iÅŸiniz dÃ¼ÅŸtÃ¼yse bunu bir endpoint yardÄ±mÄ±yla Ã§Ã¶zebilirsiniz.

### Endpoints

SvelteKit uygulamalarÄ±nÄ±zda kendinize Ã¶zel api uÃ§larÄ± tasarlayabilirsiniz.
Bu uÃ§larda Ã§alÄ±ÅŸacak kodlar backend iÃ§inde Ã§alÄ±ÅŸÄ±r. Ben tamamen static
bir site yapmak istediÄŸim iÃ§in bu uÃ§larÄ±, build alÄ±nÄ±rken Ã§alÄ±ÅŸtÄ±rÄ±p
sonuÃ§larÄ±nÄ± static olarak dosyalara yazacaÄŸÄ±m... Yani SvelteKit yazacak.

Bir endpoint iÃ§ine temel HTTP methodlarÄ± iÃ§in ayrÄ± ayrÄ± fonksiyonlar
yazÄ±labilir. Bunlar:

```js
export function get(event) {...}  // GET
export function post(event) {...}  // POST
export function put(event) {...}   // PUT
export function patch(event) {...} // PATCH
export function del(event) {...}   // DELETE
```

Benim iÅŸime ÅŸuan `GET` methodu yaradÄ±ÄŸÄ± iÃ§in `get` fonskiyonunu yazacaÄŸÄ±m
sadece.

```ts:/routes/api/bookmarks.json.ts
import type { RequestHandler } from '@sveltejs/kit';
import variables from '$lib/variables';

const RAINDROP_URL = 'https://api.raindrop.io/rest/v1/raindrops/0?perpage=30';

export const get: RequestHandler = async () => {
	const bookmarks = await (
		await fetch(RAINDROP_URL, {
			headers: {
				Authorization: `Bearer ${variables.RAINDROP_API_KEY}`
			}
		})
	).json();

	return {
		body: {
			bookmarks
		}
	};
};
```

Burada [Raindrop](https://raindrop.io/) ile kiÅŸisel bookmarklarÄ±mÄ± Ã§ekiyoum. ArdÄ±ndan
aldÄ±ÄŸÄ±m deÄŸeri olduÄŸu gibi endointden dÃ¶nÃ¼yorum.

SonrasÄ±nda tarayÄ±cÄ±mda `/api/bookmarks.json`'a gidersem dÃ¶nen deÄŸeri
gÃ¶rebilirim.

![](./img_6.png)

Burada dikkat etmem gereken bu endpointin build zamanda Ã§alÄ±ÅŸmasÄ± iÃ§in
dosya ismin `*.json.{js,ts}` ÅŸeklinde yazmÄ±ÅŸ olmam. Sveltekit bu formatÄ±
anlayÄ±p build esnasÄ±nda bu dosyayÄ± Ã§alÄ±ÅŸtÄ±rÄ±yor ve sonuÃ§larÄ±nÄ±
`bookmarks.json` olarak bir dosyaya yazÄ±yor.

Åimdi bunu sayfa componentimin iÃ§inde nasÄ±l gÃ¶stereceÄŸim?

Svelte bunun iÃ§in bana gÃ¼zel bir API sunmuÅŸ.
Componentin server tarafÄ±nda Ã§alÄ±ÅŸmasÄ±nÄ±
istediÄŸim kodlarÄ±nÄ± `<script context="module" />` taglarÄ±
arasÄ±na yazarsam, yazdÄ±ÄŸÄ±mÄ±z endpoint ile haberleÅŸebilirim.

```svelte:/routes/bookmarks.svelte
<script context="module" lang="ts">
	import type { Load } from '@sveltejs/kit';

    // `load` Ã¶zel bir fonksiyon. Bu sayfa aÃ§Ä±lmak istendiÄŸinde
    // SvelteKit bu fonksiyonu Ã§alÄ±ÅŸtÄ±racak
    // dÃ¶nen deÄŸeri aÅŸaÄŸÄ±daki componente `props` olarak
    // gÃ¶nderecek
	export const load: Load = async function ({ fetch }) {
		const { bookmarks } = await (await fetch('/api/bookmarks.json')).json();

		return {
			props: {
				bookmarks // aÅŸaÄŸÄ±ya props olarak gÃ¶nderiyorum
			}
		};
	};
</script>

<script>
  export let bookmarks; // ArtÄ±k backend'den gelen deÄŸerim fronend'de
</script>

<h1 class="mb-2">Bookmarks</h1>
<hr class="my-6" />

{#each bookmarks.items as bookmark}
  <div class="my-9">
    <h1>{bookmark.title}</h1>
  </div>
{/each}
```

Bu sitedeki [`/bookmarks`](/bookmarks) yolundan bu kodlarÄ±n Ã§Ä±ktÄ±sÄ±na
bakabilirsiniz.

AynÄ± ÅŸekilde [`/snippets`](/snippets) kÄ±smÄ±nÄ± da bu yolla yaptÄ±m. AynÄ±
ÅŸeyleri yaptÄ±ÄŸÄ±m iÃ§in anlatmaya gerek duymuyorum. [Notion.so](https://www.notion.so/)'dan gelen
verileri parse ettiÄŸim sÄ±kÄ±cÄ± kodlar var sadece :)
Ä°steyen [buradan](https://github.com/bufgix/website/blob/master/src/routes/api/snippets/index.json.ts) bakabilir

### Blog Postlar ve MDsveX

Peki, blog postlar iÃ§in de `.svelte` dosyalarÄ± mÄ± kullanÄ±yorum?
Tabii ki hayÄ±r. Bunun iÃ§in [MDsveX](https://mdsvex.pngwn.io/) markdown processor kullanÄ±yorum.
YaptÄ±ÄŸÄ± ÅŸey basitÃ§e `/routes` iÃ§inde bir `.md` dosyasÄ± varsa bunu parse
edip aynÄ± bir svelte sayfasÄ± gibi gÃ¶stermek. Bunu yaparken bol
eklenti desteÄŸi, metadata, layouts, syntax highlighting gibi pek Ã§ok
Ã¶zelliÄŸini de kullanbiliyorsunuz.

![](./mdsvex.png)

KullandÄ±ÄŸÄ±m eklentiler ise ÅŸu ÅŸekilde:

```js
import relativeImages from 'mdsvex-relative-images';
import remarkHeadingId from 'remark-heading-id';
import figure from 'rehype-figure';
import codeTitle from 'remark-code-titles';

mdsvex({
  extensions: ['.md', '.svx'],
  remarkPlugins: [relativeImages, remarkHeadingId, codeTitle],
  rehypePlugins: [figure],
});
```

Bu websitesinin kodlarÄ±na aÃ§Ä±k kaynak olarak [Github](https://github.com/bufgix/website)'dan eriÅŸebilirsiniz.

### KaynakÃ§a

- https://joshcollinsworth.com/blog/build-static-sveltekit-markdown-blog
- https://kit.svelte.dev/
